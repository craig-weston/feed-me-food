extends layout

block content
  p= restaurants[0].name
  main.container-fluid
    #search
      #locationField
        input#autocomplete-input(placeholder='Search by city', type='text')
        input#autocompleteRestaurant-input(placeholder='Search by Restaurant' type='text')
    .map-and-list
      .map-wrapper
        #map
          #loading.loading
            p
              | The map is loading. We are trying to find your location. Please be patient.
              | It will be worth it. :)
            p You will be able to view nearby restaurants
            p Search for restaurants
            p Add Restaurants by right clicking on the map
      .info-wrapper
        #sort-options.sort
          label(for='sort') Sort By
          select#sort(name='sort')
            option(value='allStars') all Stars
            option(value='sortAsc') Highest Rating
            option(value='sortDesc') Lowest Rating
            option(value='sort3Star') 1-3 stars
            option(value='sort4Star') 4 star
            option(value='sort5Star') 5 star
        #listing
          #results
          button#more More results
      #info-content
        #iw-icon
        h3#iw-rating
        .extra-details
          #iw-url
          #iw-address
          #iw-phone
          #iw-website
          #iw-open
          a#iw-reviews(href=`/restaurant/${restaurant}`)
      #info-content-small
        #iw-icon-small
        h3#iw-rating-small
        .extra-details
          #iw-url-small


  script.
      function initMap() {
          let pos = {
              lat: 39.5696,
              lng: 2.6502
          };
          var myLatLng = {lat: -25.363, lng: 131.044};
          var map = new google.maps.Map(document.getElementById('map'), {
              zoom: 14,
              center: myLatLng
          });
          console.log(restaurants[0].name)
          var marker = new google.maps.Marker({
              position: pos,
              map: map,
              title: 'hello'
          });

      }
  script(src = 'https://maps.googleapis.com/maps/api/js?key=AIzaSyCVXZ0vhPliqPIvwSUaSvZJ9XmcoJKtXaM&callback=initMap', async = '', defer = '')

  //script(src='../javascripts/map_orig.js')

